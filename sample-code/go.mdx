---
title: "Go Sample Code"
description: "Go client library and examples for the Polymarket Exchange API with REST and gRPC streaming"
---

## Overview

This Go sample code package demonstrates how to authenticate with and use the Polymarket Exchange API. It includes a complete client library covering both **REST API** and **gRPC streaming** endpoints, with 16 example programs.

<Card title="Download Sample Code" icon="download" href="/downloads/polymarket-client-sample-code.zip">
  Download the complete sample code package (includes Python and Go)
</Card>

## Features

- **REST API Client** - All 10 REST operations (same as Python)
- **gRPC Streaming** - Real-time market data, orders, positions, funding, and drop copy
- **Connect Protocol** - HTTP/2 alternative to native gRPC
- **Pre-generated Protos** - No protoc installation required

## Prerequisites

- Go 1.21 or higher
- Auth0 credentials (Client ID and private key) provided by Polymarket
- A registered trading account

## Installation

```bash
# Extract the download
unzip polymarket-client-sample-code.zip
cd client_sample_code/go

# Download dependencies
make deps
```

## Configuration

Copy the sample environment file and fill in your credentials:

```bash
cp sample_env.sh my_env.sh
nano my_env.sh  # Edit with your credentials
source my_env.sh
```

### Required Environment Variables

| Variable | Description |
|----------|-------------|
| `POLYMARKET_CLIENT_ID` | Your Auth0 Client ID |
| `POLYMARKET_PRIVATE_KEY_PATH` | Path to your RSA private key (PEM format) |
| `POLYMARKET_API_URL` | API base URL (e.g., `https://api.polymarketexchange.com`) |
| `POLYMARKET_AUTH0_DOMAIN` | Auth0 domain provided by Polymarket |
| `POLYMARKET_AUTH0_AUDIENCE` | Auth0 audience (matches API URL) |
| `POLYMARKET_PARTICIPANT_ID` | Your participant ID (e.g., `firms/Your-Firm/users/your-user`) |
| `POLYMARKET_ACCOUNT` | Your trading account (e.g., `firms/Your-Firm/accounts/your-account`) |

### Optional Environment Variables

| Variable | Default | Description |
|----------|---------|-------------|
| `POLYMARKET_TEST_SYMBOL` | `SBLIX-KC-YES` | Symbol for order placement demo |
| `POLYMARKET_GRPC_ADDR` | (derived) | gRPC endpoint address |
| `POLYMARKET_VERBOSE` | `false` | Enable verbose logging |
| `POLYMARKET_TIMEOUT` | `30` | Request timeout (seconds) |

## Running Examples

### Using Make

```bash
# Run all REST examples
make run-all

# Run all examples with gRPC streaming
make run-streaming

# Run a specific example
make run EXAMPLE=01_health_check
make run EXAMPLE=11_grpc_market_data_stream

# Build all examples
make build

# Check environment configuration
make check-env
```

### Using Go Directly

```bash
# Run all REST examples
cd cmd/run_all && go run .

# Run with streaming
cd cmd/run_all && go run . -streaming

# Run individual examples
go run ./examples/01_health_check
go run ./examples/11_grpc_market_data_stream
```

## REST API Examples (01-10)

| Example | Description |
|---------|-------------|
| `01_health_check` | Health check (no authentication required) |
| `02_whoami` | Get current user info |
| `03_list_accounts` | List trading accounts |
| `04_get_balance` | Get account balance |
| `05_list_positions` | List positions |
| `06_list_instruments` | List tradeable instruments |
| `07_list_symbols` | List all symbols |
| `08_search_orders` | Search order history |
| `09_list_users` | List users in firm |
| `10_place_and_cancel_order` | Place and cancel order (safe demo) |

## gRPC Streaming Examples (11-16)

| Example | Description |
|---------|-------------|
| `11_grpc_market_data_stream` | Real-time order book updates |
| `12_grpc_order_subscription` | Order status notifications |
| `13_grpc_position_subscription` | Position change updates |
| `14_grpc_funding_subscription` | Funding notifications |
| `15_grpc_dropcopy_subscription` | Execution reports (drop copy) |
| `16_connect_streaming` | Streaming via Connect protocol |

## Code Examples

### REST API Client

```go
package main

import (
    "fmt"
    "github.com/polymarket/client-sample-code/go/config"
    "github.com/polymarket/client-sample-code/go/rest"
)

func main() {
    // Load configuration from environment
    cfg := config.MustLoad()

    // Create REST client
    client := rest.NewClient(cfg)

    // Health check (no auth)
    health, _ := client.Health()
    fmt.Printf("Health: %s\n", health.Status)

    // Get current user
    whoami, _ := client.WhoAmI()
    fmt.Printf("User: %s\n", whoami.User)

    // Get balance
    balance, _ := client.GetBalance(cfg.Account, "USD")
    fmt.Printf("Balance: $%.2f\n", balance.Balance)
}
```

### gRPC Streaming

```go
package main

import (
    "context"
    "fmt"
    "time"
    "github.com/polymarket/client-sample-code/go/config"
    grpcclient "github.com/polymarket/client-sample-code/go/grpc"
)

func main() {
    cfg := config.MustLoad()

    // Create gRPC client
    client, _ := grpcclient.NewClient(cfg)
    defer client.Close()

    ctx, cancel := context.WithTimeout(context.Background(), 30*time.Second)
    defer cancel()

    // Subscribe to market data
    sub, _ := client.SubscribeMarketData(ctx, []string{"SBLIX-KC-YES"}, 5)
    defer sub.Close()

    // Receive updates
    for i := 0; i < 5; i++ {
        select {
        case update := <-sub.Updates():
            fmt.Printf("Symbol: %s, Bids: %d, Offers: %d\n",
                update.Symbol, len(update.Bids), len(update.Offers))
        case <-sub.Done():
            return
        }
    }
}
```

### Authentication Flow

```go
import (
    "github.com/golang-jwt/jwt/v4"
    "time"
)

func createClientAssertion(cfg *config.Config) string {
    now := time.Now()
    claims := jwt.MapClaims{
        "iss": cfg.ClientID,
        "sub": cfg.ClientID,
        "aud": fmt.Sprintf("https://%s/oauth/token", cfg.Auth0Domain),
        "iat": now.Unix(),
        "exp": now.Add(5 * time.Minute).Unix(),
        "jti": uuid.New().String(),
    }

    token := jwt.NewWithClaims(jwt.SigningMethodRS256, claims)
    signedToken, _ := token.SignedString(cfg.PrivateKey)
    return signedToken
}
```

## File Structure

```
client_sample_code/go/
├── Makefile                 # Build and run commands
├── README.md                # Go-specific documentation
├── go.mod                   # Go module definition
├── go.sum                   # Dependencies checksum
├── sample_env.sh            # Sample environment configuration
├── config/
│   └── config.go            # Configuration loading and validation
├── auth/
│   └── auth.go              # Auth0 JWT authentication
├── rest/
│   └── client.go            # REST API client
├── grpc/
│   ├── client.go            # gRPC client setup
│   └── streams.go           # Streaming subscription helpers
├── gen/
│   └── polymarket/v1/       # Pre-generated proto files
├── examples/
│   ├── 01_health_check/     # REST examples (01-10)
│   ├── ...
│   ├── 11_grpc_market_data_stream/  # gRPC examples (11-16)
│   └── ...
└── cmd/
    └── run_all/             # Run all examples
```

## Troubleshooting

### "Private key file not found"

Ensure `POLYMARKET_PRIVATE_KEY_PATH` points to a valid PEM file:

```bash
# Check the file exists
ls -la $POLYMARKET_PRIVATE_KEY_PATH

# Verify it's a valid RSA private key
openssl rsa -in $POLYMARKET_PRIVATE_KEY_PATH -check -noout
```

### "Missing required environment variables"

Source your environment file before running:

```bash
source my_env.sh
make run-all
```

### "Auth0 returned 401"

- Verify your Client ID is correct
- Ensure your private key matches the public key registered with Auth0
- Check that your credentials haven't expired

### gRPC Connection Issues

- Verify the gRPC address is correct (default derived from API URL)
- Check that port 443 is not blocked by a firewall
- Try setting `POLYMARKET_GRPC_ADDR` explicitly

## Support

For API documentation, see the [REST API Reference](/api-reference/introduction) and [gRPC Streaming](/streaming-endpoints/market-data).

For issues with this sample code, contact **fix@qcex.com**.
