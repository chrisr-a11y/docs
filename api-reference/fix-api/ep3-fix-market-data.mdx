---
title: "FIX Market Data"
---

The market data sessions for the EP3 Platform are available by a second, separate FIX gateway; they are not accessible via the order-entry session.

When displaying the order book, the EP3 Platform provides a Market-by-Order view; i.e each order is displayed individually with a corresponding timestamp (used to determine time priority within a price level). Each order also carries the unique OrderID reference, which Participants can use to identify their own orders in market data.

## Subscribing to Market Data

Participants can subscribe to market data for a given symbol using a MarketDataRequest [V] message.

## Table 20: MarketDataRequest (V) message

| Tag | Field Name | Req'd | Data Type | Comments |
|-----|------------|-------|-----------|----------|
| < Standard Header > |  | Y |  | 35 = V |
| 262 | MDReqID | Y | String | Unique ID for this request |
| 263 | SubscriptionRequestType | Y | char | Type of subscription requested<br/>0 = Snapshot<br/>1 = Snapshot plus Updates<br/>2 = Delete previous request (unsubscribe) |
| 264 | MarketDepth | Y | int | Depth requested. (Maximum of 25 levels)<br/>0 = Full book depth<br/>1 = Top of book (best prices only)<br/>2+ = Number of levels requested |
| 267 | NoMDEntryTypes | N | NumInGroup |  |
| →269 | MDEntryType | N | char | A repeating group of MD Entry Types requested<br/>0 = Bid<br/>1 = Offer<br/>2 = Trade<br/>4 = Opening Price<br/>5 = Closing Price<br/>6 = Settlement Price<br/>7 = Trading Session High Price<br/>8 = Trading Session Low Price<br/>B = Trade Volume<br/>g = Trading Reference Price |
| 146 | NoRelatedSym | Y | NumInGroup | Number of symbols requested |
| →55 | Symbol | Y | String | Instrument symbol. |
| < Standard Trailer > |  | Y |  |  |

If the MarketDataRequest [V] message is valid, EP3 Platform will respond with a single MarketDataSnapshotFullRefresh [W] message for each requested Instrument, providing details of all orders in the order book (all levels as a repeating group within a single message). Note that the (repeating) MDEntryType (269) field can be specified if required to tailor the elements returned.

**Example 18:** Request a snapshot of all market data elements using MarketDataRequest [V] message

```
8=FIXT.1.1 | 9=92 | 35=V | 49=SENDER | 56=TARGET | 34=4 | 52=20240517-19:05:47 | 262=MD-REQ-001 | 263=1 | 264=3 | 146=1 | 55=GOOG | 10=075 |
```

Note that since the EP3 Platform returns market data split by order, requesting only the best price using MarketDepth (264) = 1 (Top of book) may still return multiple bid and offer entries if there is more than one order at this price.

## Table 21: MarketDataSnapshotFullRefresh (W) message

| Tag | Field Name | Req'd | Data Type | Comments |
|-----|------------|-------|-----------|----------|
| < Standard Header > |  | Y |  | 35 = W |
| 22 | SecurityIDSource | Y | int | 8 = Exchange symbol |
| 48 | SecurityID | Y | String | Will always equal Symbol (55) |
| 55 | Symbol | Y | String | Instrument symbol |
| 167 | SecurityType | N | String | Type of instrument<br/>CS = Common Stock<br/>FUT = Future<br/>FXSPOT = FX Spot (incl. crypto)<br/>FXSWAP = FX Swap<br/>OOF = Options on Futures<br/>OPT = Option<br/>NONE = Other |
| 262 | MDReqID | Y | String | The ID of the request as indicated on the request. |
| 292 | Corporate Action | C | char | Provided if the instrument is currently subject to a Corporate Action.<br/>A = Ex-Dividend<br/>B = Ex-Distribution<br/>C = Ex-Rights<br/>D = New<br/>E = Ex-Interest<br/>F = Cash Dividend<br/>G = Stock Dividend<br/>H = Non-Integer Stock Split<br/>I = Reverse Stock Split<br/>J = Standard-Integer Stock Split<br/>K = Position Consolidation<br/>L = Liquidation Reorganization<br/>M = Merger Reorganization<br/>N = Rights Offering<br/>O = Shareholder Meeting<br/>P = Spinoff<br/>Q = Tender Offer<br/>R = Warrant<br/>S = Special Action<br/>T = Symbol Conversion<br/>U = CUSIP or Name Change<br/>V = Leap Rollover<br/>W = Succession Event |
| 268 | NoMDEntries | Y | NumInGroup | The number of market data levels returned. Might be zero if the symbol is valid but there are currently no bids/offers in this symbol. |
| → 269 | MDEntryType | Y | char | Type of entry<br/>0 = Bid<br/>1 = Offer<br/>2 = Trade<br/>4 = Opening Price<br/>5 = Closing Price<br/>6 = Settlement Price<br/>7 = Trading Session High Price<br/>8 = Trading Session Low Price<br/>B = Trading Session Volume<br/>g = Trading Reference Price |
| → 270 | MDEntryPx | Y | Price | Price level |
| → 271 | MDEntrySize | C | Qty | Quantity of the individual order or trade, or the aggregate quantity where MDEntryType (269) = B (Trading Session Volume).<br/>Not sent for session open / high / low. |
| → 272 | MDEntryDate | Y | UTCDateOnly | Time priority (date) of the order. |
| → 273 | MDEntryTime | Y | UTCTimeOnly | Time priority (time) of the order. |
| → 336 | TradingSessionID | C | String | Sent for entries *other than MDEntryType (269) = 0 (Bid) or 1 (Offer):*<br/>• CLOSED<br/>• OPEN<br/>• PREOPEN<br/>• SUSPENDED<br/>• EXPIRED<br/>• TERMINATED<br/>• HALTED<br/>• MATCH_AND_CLOSE_AUCTION |
| → 1151 | SecurityGroup | C | String | The name of the group of related securities to which this instrument belongs. |
| → 1070 | MDQuoteType | C | int | Identifies market data quote type. Only sent for MDEntryType (269) = 4 (Opening Price).<br/>0 = Indicative |
| → 59 | TimeInForce | C | char | Sent for MDEntryType (269) = 0 (Bid) or 1 (Offer). The time in force for this order.<br/>0 = Good for day<br/>1 = Good till cancel<br/>6 = Good till date |
| → 37 | OrderID | C | String | Sent for MDEntryType (269) = 0 (Bid) or 1 (Offer). Matches the order ID in the ExecutionReport [8] acknowledgement, allowing Participants to identify their own orders within market data. Typically a 13-character alphanumeric string. |
| → 278 | MDEntryID | C | String | Sent for MDEntryType (269) = 0 (Bid) or 1 (Offer). Unique reference for the entry. Typically 13-character alphanumeric string. |
| → 40 | OrdType | C | char | Sent for MDEntryType (269) = 0 (Bid) or 1 (Offer). |
| → 126 | ExpireTime | N | UTCTimestamp | Sent for MDEntryType (269) = 0 (Bid) or 1 (Offer) where the order has ExpiryTime (126) set. |
| < Standard Trailer > |  | Y |  |  |

**Example 19:** Initial Market Data Snapshot (five repeating groups color-coded)

```
8=FIXT.1.1 | 9=458 | 35=W | 34=79 | 49=TARGET | 52=20240521-09:45:49.860198821 | 56=SENDER | 22=8 | 48=GOOG | 55=GOOG | 167=NONE | 262=1552371733 | 268=5 | 269=2 | 270=0.00 | 271=1499 | 272=20240521 | 273=09:06:39.324891684 | 336=OPEN | 269=4 | 270=3.00 | 272=20240515 | 273=21:24:03.898604733 | 336=OPEN | 1070=1 | 269=7 | 270=50.00 | 272=20240517 | 273=19:06:47.977567695 | 336=OPEN | 269=8 | 270=0.00 | 272=20240521 | 273=09:06:39.324891684 | 336=OPEN | 269=B | 270=93544.40 | 271=23645 | 272=20240521 | 273=09:06:39.324891684 | 336=OPEN | 1151=Equities | 10=199 |
```

Note the response will contain ONLY a snapshot of the current order book; it does not contain information about historic trades that have occurred on the platform.

### Figure 14: Successful market data subscription with snapshot and incremental updates
![](https://files.readme.io/9536423-market_refresh.png)

If the participants subscribed to ongoing updates for the instrument(s), the platform will then start sending unsolicited MarketDataIncrementalRefresh [X] messages which contain a mixture of trade and/or order book update messages.

These incremental market data messages may contain a repeating group of updates in a single message. For example, an incoming sell order which enters the order book, executes against a resting buy order with the remainder written to the order book will trigger a MarketDataIncrementalRefresh [X] message containing the following updates:

- The deletion of the previous best bid (as a result of the immediate fill)
- The addition of a new best bid (next-best bid price)
- The deletion of the best offer (new order has a better price)
- The addition of a new best offer (representing the balance of the incoming sell order)
- A record relating to the trade, and
- A record relating to updated overall market volume

## Table 22: MarketDataIncrementalRefresh (X) message

| Tag | Field Name | Req'd | Data Type | Comments |
|-----|------------|-------|-----------|----------|
| < Standard Header > |  | Y |  | 35 = X |
| 262 | MDReqID | Y | String | The ID of the request as indicated on the request |
| 268 | NoMDEntries | Y | NumInGroup |  |
| → 279 | MDUpdateAction | Y | char | The type of action conveyed by this block.<br/>0 = New<br/>1 = Change<br/>2 = Delete |
| → 269 | MDEntryType | C | char | Type of entry. Set where MDUpdateAction (279) = (0) New or 1 (Change)<br/>0 = Bid<br/>1 = Offer<br/>2 = Trade<br/>4 = Opening Price<br/>5 = Closing Price<br/>6 = Settlement Price<br/>7 = Trading Session High Price<br/>8 = Trading Session Low Price<br/>B = Trade Volume<br/>g = Trading Reference Price |
| → 278 | MDEntryID | N | String | Unique reference for this entry. Typically a 13-character alphanumeric string. |
| → 55 | Symbol | Y | String | Instrument symbol |
| → 22 | SecurityIDSource | Y | int | 8 = Exchange symbol |
| → 48 | SecurityID | Y | String | Will always equal Symbol (55) |
| → 167 | SecurityType | N | String | Type of instrument<br/>CS = Common Stock<br/>FUT = Future<br/>FXSPOT = FX Spot (incl. crypto)<br/>FXSWAP = FX Swap<br/>OOF = Options on Futures<br/>OPT = Option<br/>NONE = Other |
| → 1151 | SecurityGroup | N | String | Security sub-type. For example "Equities" |
| → 270 | MDEntryPx | N | Price | Order level price where MDEntryType (269) = 0 (Bid) or 1 (Offer)<br/>Traded price where MDEntryType (269) = 2 (Trade)<br/>Total value traded where MDEntryType (269) = B (Trade Volume) |
| → 271 | MDEntrySize | N | Qty | Remaining order size where MDEntryType (269) = 0 (Bid) or 1 (Offer). Will be zero where MDUpdateAction (279) = 2 (Delete)<br/>Trade size where MDEntryType (269) = 2 (Trade)<br/>Total quantity traded where MDEntryType (269) = B (Trade Volume) |
| → 272 | MDEntryDate | N | UTCDateOnly | The date on which the price level or trade occurred |
| → 273 | MDEntryTime | N | UTCTimeOnly | The time at which the price level updated or trade occurred (in UTC) |
| → 59 | TimeInForce | N | char | Time in force for this order.<br/>0 = Good for day<br/>1 = Good till cancel<br/>6 = Good till date |
| → 126 | ExpireTime | N | UTCTimestamp | Populated where TimeInForce (59) = 6 (Good Till Date) |
| → 37 | OrderID | N | String | Only sent for price level updates. Will match OrderID (37) in the ExecutionReport [8], allowing Participants to identify their own orders within market data. |
| → 40 | OrdType | N | char | 2 = Limit order<br/>K = Market-to-limit order |
| → 828 | TrdType | N | int | Only sent for trades.<br/>0 = Regular trade |
| → 1003 | TradeID | N | String | Only sent for trade updates. Will match the ExecID (17) in the ExecutionReport fill, allowing Participants to identify their own trades within market data. |
| → 2446 | AggressorSide | N | char | Only sent for trades. Indicates which side was the aggressor in a trade.<br/>1 = Buy<br/>2 = Sell |
| → 336 | TradingSessionID | C | String | Sent for trades:<br/>• OPEN<br/>• MATCH_AND_CLOSE_AUCTION |
| < Standard Trailer > |  | Y |  |  |

**Example 20:** Market Data incremental containing multiple updates (repeating groups color-coded)

```
8=FIXT.1.1 | 9=987 | 35=X | 34=87 | 49=TARGET | 52=20240521-09:52:30.013930670 | 56=SENDER | 262=1552371733 | 268=6 | 279=0 | 269=0 | 278=1HQ4A5T0EDM1T | 55=GOOG | 48=GOOG | 22=8 | 167=NONE | 1151=Equities | 270=0.03 | 271=1500 | 272=20240521 | 273=09:52:30.004561670 | 59=0 | 37=1HQ4A5T0EDM1T | 40=2 | 279=0 | 269=1 | 278=1HQ4A5T0EDM1W | 55=GOOG | 48=GOOG | 22=8 | 167=NONE | 1151=Equities | 270=0.03 | 271=15 | 272=20240521 | 273=09:52:30.004561670 | 59=0 | 37=1HQ4A5T0EDM1W | 40=2 | 279=2 | 269=1 | 278=1HQ4A5T0EDM1W | 55=GOOG | 48=GOOG | 22=8 | 167=NONE | 1151=Equities | 270=0.03 | 271=0 | 272=20240521 | 273=09:52:30.004561670 | 59=0 | 37=1HQ4A5T0EDM1W | 40=2 | 279=2 | 269=0 | 278=1HQ4A5T0EDM1V | 55=GOOG | 48=GOOG | 22=8 | 167=NONE | 1151=Equities | 270=0.03 | 271=0 | 272=20240521 | 273=09:52:30.004561670 | 59=0 | 37=1HQ4A5T0EDM1V | 40=2 | 279=0 | 269=2 | 278=1HPT7DQ1GC4DS | 55=GOOG | 48=GOOG | 22=8 | 167=NONE | 1151=Equities | 270=0.03 | 271=15 | 272=20240521 | 273=09:52:30.004561670 | 59=0 | 40=2 | 828=0 | 1003=1HPT7DQ1GC4DS | 2446=2 | 279=0 | 269=B | 55=GOOG | 48=GOOG | 22=8 | 167=NONE | 1151=Equities | 270=93544.85 | 271=23660 | 272=20240521 | 273=09:52:30.004561670 | 336=OPEN | 10=156 |
```

## Unsubscribing from Market Data

Participants can unsubscribe from a piece of market data by entering a second MarketDataRequest [V] message, referencing the original MDReqID (262) reference and setting SubscriptionRequestType (263) = 2 (unsubscribe).

Note that there is no explicit response to requests to unsubscribe from the EP3 Platform; a successful unsubscription will simply prevent further MarketDataIncrementalRefresh [X] messages.

### Figure 15: Successful market data subscription and unsubscription
![](https://files.readme.io/9b2dd8d-unsubscribe.png)
